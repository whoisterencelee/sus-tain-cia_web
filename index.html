<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>Sustaincia</title>
  <meta name="description" content="Open Sustainability Platform for Everyone">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">

  <script>function $(i){return document.getElementById(i)}</script>

  <meta name="theme-color" content="#fafafa">
</head>

<body style="background:#FFFCF4;text-align:center;font-family:Arial;">
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

	<div style="margin-top:100px;text-shadow:3px 3px 2px lightgrey;color:grey;">

		<img src='sustaincia.svg' alt="Sustaincia" style="width:128px;height:128px;box-shadow:8px 8px 6px 0px lightgrey;border-radius:1em;margin:1em;"></img><br />

		<h1>Beneficial Sustainability for Everyone</h1>
		
		<style>.hpot {display:none;}
		form input {background:transparent;color:grey;border:0px;margin:1em;text-align:center;}
		</style>

		<style>
			.game > * {display:flex;flex-direction:column;margin:15px;align-items:center;}
		</style>

		<div class="game" style="display:flex;flex-direction:column;align-items:center;">
			<div>World's Population <span id="world_population"></span></div>
			<!--<div>Percentage of world using water bottle <div><span id="percentage_use_bottle"></span>%</div></div>-->

			<label>How many plastic bottles do you use in a week <span>0<input type="range" id="bottles_per_week" min="0" max="50" ></input>50+</span>
			<span id="bottles_per_week_show"></span>
			</label> 
			<!--<label>How many of these do you think is recycled <input type="range" id="recycle"></input></label>-->
			<label>Where you stand in plastic bottle use compare to others <span>little<input type="range" id="use_level"></input>most</span></label> 

			<div>According to wikipedia plastic bottles has been available since the 1950s</div>
			<div>Simulated bottles produced so far <span id="bottles"></span></div>
			<!--<div>Simulated bottles which were recycled <span id="recycled"></span></div>-->
		</div>

		<script>
			var game = {
				world_population : 7700000000 ,
				water_requirement_per_person  : 2000 ,
				bottles_per_week : 7 ,
				start_year : 1950 ,
				use_level : 50 ,
				current_year : new Date().getFullYear() - 1 ,
				}

			Object.keys( game ).forEach( k =>{
				var d = $( k )
				if( !d ) return
				if( d.value !== undefined ){
					d.value = game[ k ]
					d.addEventListener( "change" , runGame )
				}
				else if( d.textContent !== undefined ) d.textContent = game[ k ].toLocaleString() 
			})

			function showbottle(){ $( "bottles_per_week_show" ).textContent = $( "bottles_per_week" ).value }
			$( "bottles_per_week").addEventListener( "change" , showbottle )
			showbottle()

			function runGame(){
				var use_level = parseInt( $( "use_level" ).value ) || 1
				var bottles_per_week = parseInt( $( "bottles_per_week" ).value ) || 1
				var avg_bottles_per_week = bottles_per_week / ( use_level / 100 ) * 0.5
				var bottles_per_week  = Math.round( game.world_population * avg_bottles_per_week )
				var bottles_so_far = bottles_per_week * 52 * ( game.current_year - game.start_year )
				
				$( "bottles" ).textContent = bottles_so_far.toLocaleString()

			}
			runGame()
		</script>

		<br />
		<br />

		<form method="POST" action="https://formspree.io/sustaincia@gmail.com">
			<div class="hpot"><label>Open Participation<input name="_gotcha"></label></div>
			<label>Signup for News<br />
			<input type="email" style="border-bottom:1px solid lightgrey;padding:0.5em;" placeholder="your@email.address" name="news subscriber" required></input>
			</label>
			<br />
			<input style="margin:0;" type="submit" value="Submit"></input>
		</form>

	</div>

</body>

</html>
